<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Dieselgate</title>
  <link rel="stylesheet" href="./assets/ol/ol.css">
  <link rel="stylesheet" href="./src/css/app.css">
</head>
<body>
  <div id="spinner-container">
    <div class="spinner">
      <div class="rect1"></div>
      <div class="rect2"></div>
      <div class="rect3"></div>
      <div class="rect4"></div>
      <div class="rect5"></div>
    </div>
  </div>
  <div id="map">
    <div id ="maptitle">Extra PM 2.5 concentration from excess diesel NOx emissions - NB</div>
    <div class="select">
      <span class="arr"></span>
      <select id="changestyle">
        <option value="0">Extra PM 2.5 from diesel NOx - NB</option>
        <option value="1">Extra PM 2.5 from diesel NOx</option>
        <option value="2">Premature deaths from diesel NOx - NB</option>
        <option value="3">Premature deaths from diesel NOx</option>
        <option value="4">Popolation</option>
      </select>
    </div>
    <div id="legend">
      <div id="class0" class="legendclass">
        <div id="textclass0"></div>
        <div id="fillclass0" class="legendfill"></div>
      </div>
      <div id="class1" class="legendclass">
        <div id="textclass1">Pippo</div>
        <div id="fillclass1" class="legendfill"></div>
      </div>
      <div id="class2" class="legendclass">
        <div id="textclass2">Pippo</div>
        <div id="fillclass2" class="legendfill"></div>
      </div>
      <div id="class3" class="legendclass">
        <div id="textclass3">Pippo</div>
        <div id="fillclass3" class="legendfill"></div>
      </div>
      <div id="class4" class="legendclass">
        <div id="textclass4">Pippo</div>
        <div id="fillclass4" class="legendfill"></div>
      </div>
    </div>
  </div>
  <div id="popup" class="ol-popup">
    <a href="#" id="popup-closer" class="ol-popup-closer"></a>
    <div id="popup-content"></div>
  </div>
  <script src="./assets/jquery/jquery-3.3.1.min.js"></script>
  <script src="./assets/ol/ol-debug.js"></script>
  <script src="./src/data/city2.js"></script>
  <script src="./src/data/reticolo_dati.js"></script>
  <script src="./src/data/stati.js"></script>
  <script src="./src/js/legend.js"></script>
  <script src="./src/js/layers_styles.js"></script>
  <script src="./src/js/layers.js"></script>
  <script src="./src/js/map.js"></script>
  <script>
    var mapTitles = [
      "Extra PM 2.5 concentration from excess diesel NOx emissions - NB",
      "Extra PM 2.5 concentration from excess diesel NOx emissions",
      "Approximate premature deaths dues to excess diesel Nox emissions - NB",
      "Approximate premature deaths dues to excess diesel Nox emissions",
      "Popolation"
    ];
    $('#changestyle').change(function() {
      var value = $(this).find(":selected").val();
      change_reticolo_style(value);
      $('#maptitle').text(mapTitles[value]);
      createLegend(value);
    });
    createLegend(0);
  </script>
</body>
</html>
